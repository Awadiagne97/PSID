<h1>Mes demandes</h1>
<div class="mesdemandes">
    <div  class="filter">
      <form class="form-filter">
            <div class="form-group">
                <label for="sta">Statut</label>
                <select class="form-control" name="statut" id="stat">
                  <option value="ACCEPTE">Acceptée</option>
                  <option value="ATTENTE">En attente</option>
                  <option value="REFUSE">Refusée</option>
              </select>
            </div>
            <br/>
            <br/>
            <div class="slidecontainer">
              <label for="nbMedailles">Médailles </label>
              <!--<form method="post">
                <input type="range" min="0"  max="100" step="1" value="5" class="slider"  name="nbMedailles"  >
              </form>-->
              <input type="text"name="nbMedailles" class="form-control" id="nbMedailles" >
            </div>
            <br/>
            <br/>
            <div class="form-group">
                <label for="dateDemande">Date</label>
                <input type="date" name="dateDemande" min="01-01-2020" max="30-04-2050" id="dateDemande">
            </div>
            <br/>
            <br/>
            <button (click)="filterDemande()" type="button">Filtrer</button>    
        </form>
    </div>

    <div class="container-fluid">
      <br>
      <div class="row">
        <table class="table table-hover">
          <thead>
          <tr>
            <th scope="col">N° demande</th>
            <th scope="col">Titre Offre</th>
            <th scope="col">Statut</th>
            <th scope="col">Date</th>
            <th>Noter</th>
          </tr>
          </thead>
          <tbody *ngFor="let demande of demandes | async">
          <tr>
            <td>{{demande.id}}</td>
            <td>{{demande.offre.titre}}</td>
            <td>{{demande.statut}}</td>
            <td>{{demande.dateDemande.substring(0,10)}}</td>
            <td><ngb-rating [max]="5" [(rate)]="currentRate" (rateChange)=save(currentRate,demande.offre.id) ></ngb-rating></td>
          </tr>
          </tbody>
        </table>
      </div>
      <div class="align-content-lg-around" *ngIf="empty">
        <p>Vous n'avez pas encore de demande</p>
      </div>
    
    </div>
</div>
    
    